From 63ee66e21bdc2eca5847cc37703c31f86ad8d77f Mon Sep 17 00:00:00 2001
From: "Charlton, Scott R." <charlton@usgs.gov>
Date: Wed, 15 Jan 2025 16:59:30 -0700
Subject: [PATCH 1/2] fix(MemoryHelper.f90) Added optional checks * crashed
 when compiled with flang-new 19.1.1 on windows

---
 src/Utilities/Memory/MemoryHelper.f90 | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

diff --git a/src/Utilities/Memory/MemoryHelper.f90 b/src/Utilities/Memory/MemoryHelper.f90
index 65c4d0832..0e8c5c4f8 100644
--- a/src/Utilities/Memory/MemoryHelper.f90
+++ b/src/Utilities/Memory/MemoryHelper.f90
@@ -25,8 +25,14 @@ contains
     character(len=LENMEMPATH) :: memory_path !< the memory path
 
     call mem_check_length(component, LENCOMPONENTNAME, "solution/model/exchange")
-    call mem_check_length(subcomponent, LENCOMPONENTNAME, "package")
-    call mem_check_length(context, LENCONTEXTNAME, "context")
+
+    if (present(subcomponent)) then
+      call mem_check_length(subcomponent, LENCOMPONENTNAME, "package")
+    end if
+    
+    if (present(context)) then
+      call mem_check_length(context, LENCONTEXTNAME, "context")
+    end if
 
     memory_path = trim(component)
 
-- 
2.47.1.windows.1

